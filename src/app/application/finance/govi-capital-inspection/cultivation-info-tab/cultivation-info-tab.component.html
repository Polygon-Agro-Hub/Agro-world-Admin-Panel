<div class="space-y-2 p-10">
  <!-- Question 01 - Climatic Parameters Table -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
        <span class="text-gray-500 dark:text-textDark">01. Is the crop / cropping system suitable for overall climatic parameters?</span>
    </label>

    <div class="overflow-x-auto">
      <table class="min-w-[50%] bg-white dark:bg-tileBlack border border-gray-200 dark:border-gray-600 rounded-lg">
        <thead>
          <tr class="bg-gray-50 dark:bg-gray-700">
            <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600 dark:text-textDark border-b dark:border-gray-600">
              Factor
            </th>
            <th class="py-3 px-4 text-center text-sm font-semibold text-gray-600 dark:text-textDark border-b dark:border-gray-600">
              Yes
            </th>
            <th class="py-3 px-4 text-center text-sm font-semibold text-gray-600 dark:text-textDark border-b dark:border-gray-600">
              No
            </th>
          </tr>
        </thead>

        <tbody>
          <!-- Temperature -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="py-3 px-4 text-sm text-gray-800 dark:text-textDark border-b dark:border-gray-600">Temperature</td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="getClimaticValue(cultivationData.temperature)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="!getClimaticValue(cultivationData.temperature)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
          </tr>

          <!-- Rainfall -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="py-3 px-4 text-sm text-gray-800 dark:text-textDark border-b dark:border-gray-600">Rainfall</td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="getClimaticValue(cultivationData.rainfall)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="!getClimaticValue(cultivationData.rainfall)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
          </tr>

          <!-- Sunshine hours -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="py-3 px-4 text-sm text-gray-800 dark:text-textDark border-b dark:border-gray-600">Sunshine hours</td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="getClimaticValue(cultivationData.sunShine)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="!getClimaticValue(cultivationData.sunShine)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
          </tr>

          <!-- Relative humidity -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="py-3 px-4 text-sm text-gray-800 dark:text-textDark border-b dark:border-gray-600">Relative humidity</td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="getClimaticValue(cultivationData.humidity)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="!getClimaticValue(cultivationData.humidity)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
          </tr>

          <!-- Wind velocity -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="py-3 px-4 text-sm text-gray-800 dark:text-textDark border-b dark:border-gray-600">Wind velocity</td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="getClimaticValue(cultivationData.windVelocity)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="!getClimaticValue(cultivationData.windVelocity)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
          </tr>

          <!-- Wind direction -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="py-3 px-4 text-sm text-gray-800 dark:text-textDark border-b dark:border-gray-600">Wind direction</td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="getClimaticValue(cultivationData.windDirection)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="!getClimaticValue(cultivationData.windDirection)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
          </tr>

          <!-- Seasons and agro-ecological zone -->
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-700">
            <td class="py-3 px-4 text-sm text-gray-800 dark:text-textDark border-b dark:border-gray-600">
              Seasons and agro-ecological zone
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="getClimaticValue(cultivationData.zone)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
            <td class="py-3 px-4 text-center border-b dark:border-gray-600">
              <div class="flex justify-center">
                <div *ngIf="!getClimaticValue(cultivationData.zone)"
                  class="w-4 h-4 bg-black dark:bg-gray-600 rounded-sm flex items-center justify-center">
                  <i class="fas fa-check text-white text-[10px]"></i>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Question 02 - Suitable for local soil type -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
        <span class="text-gray-500 dark:text-textDark">02. Is the crop / cropping system suitable for local soil type?</span>
    </label>
    <div class="relative">
      <input type="text" [value]="getYesNo(cultivationData.isCropSuitale)"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 03 - pH -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
        <span class="text-gray-500 dark:text-textDark">03. pH</span>
    </label>
    <div class="relative">
      <input type="text" [value]="getFormattedPh()"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 04 - Soil Type -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
      <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
        <span class="text-gray-500 dark:text-textDark">04. Soil Type</span>
    </label>
    <div class="relative">
      <input type="text" [value]="cultivationData.soilType || '--'"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 05 - Overall Soil Fertility -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
        <span class="text-gray-500 dark:text-textDark">05. Overall Soil Fertility</span>
    </label>
    <div class="relative">
      <input type="text" [value]="cultivationData.soilfertility || '--'"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 06 - Water Sources -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
        <span class="text-gray-500 dark:text-textDark">06. Water Sources</span>
    </label>
    <div class="relative">
      <input type="text" [value]="formattedWaterSources"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 07 - Images of the water source -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
        <span class="text-gray-500 dark:text-textDark">07. Images of the water source</span>
    </label>
    <div>
      <button (click)="openImageModal()"
        class="inline-flex items-center gap-2 px-6 py-3 bg-[#000000] dark:bg-gray-700 hover:bg-[#2a2a2a] dark:hover:bg-gray-600 text-white dark:text-textDark rounded-lg transition-colors shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed"
        [disabled]="!hasWaterImages">
        <i class="fa-solid fa-eye"></i>
        View Photos
      </button>
    </div>
  </div>

  <!-- Question 08 - Adequate rainfall -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
      <span class="text-gray-500 dark:text-textDark">08. Does this land receive adequate rainfall?</span>
    </label>
    <div class="relative">
      <input type="text" [value]="getYesNo(cultivationData.isRecevieRainFall)"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 09 - Rainfall distribution -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
      <span class="text-gray-500 dark:text-textDark">09. Is the distribution of rainfall suitable to grow identified crops?</span>
    </label>
    <div class="relative">
      <input type="text" [value]="getYesNo(cultivationData.isRainFallSuitableCrop)"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 10 - Water quality -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
      <span class="text-gray-500 dark:text-textDark">10. Is the water quality suitable for cultivation?</span>
    </label>
    <div class="relative">
      <input type="text" [value]="getYesNo(cultivationData.isRainFallSuitableCultivation)"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 11 - Electricity available -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
      <span class="text-gray-500 dark:text-textDark">11. Is electricity available for lifting the water?</span>
    </label>
    <div class="relative">
      <input type="text" [value]="getYesNo(cultivationData.isElectrocityAvailable)"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>

  <!-- Question 12 - Pump sets -->
  <div class="bg-[#F9FAFC] dark:bg-gray-800 p-5 rounded-lg mb-5">
    <label class="block text-sm font-medium text-gray-700 dark:text-textDark mb-2">
      <span class="text-gray-500 dark:text-textDark">12. Is there pump sets, micro irrigation systems?</span>
    </label>
    <div class="relative">
      <input type="text" [value]="getYesNo(cultivationData.ispumpOrirrigation)"
        class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-tileBlack text-gray-900 dark:text-textDark"
        readonly />
    </div>
  </div>
</div>

<!-- Image Gallery Popup Modal -->
<div *ngIf="showImageModal" class="fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50">
  <!-- Modal Container -->
  <div class="bg-white dark:bg-gray-800 rounded-[20px] w-[700px] h-[700px] p-6 relative flex items-center justify-center">
    
    <!-- Title -->
    <div class="absolute top-4 left-0 w-full text-center">
      <h2 class="text-sm font-semibold dark:text-textDark">
        Water Source Images
      </h2>
    </div>

    <!-- Image Frame -->
    <div class="bg-white dark:bg-gray-700 border border-[#D9D9D9] dark:border-gray-600 
                rounded-[10px] w-[604px] h-[604px] flex items-center justify-center overflow-hidden relative">
      <img
        [src]="currentImages[currentImageIndex]"
        [style.transform]="'scale(' + scale + ')'"
        class="w-[545px] h-[545px] object-contain transition"
        alt="Water Source Image"
      />

      <!-- Zoom Buttons -->
      <div class="absolute right-4 bottom-6 flex flex-col gap-3">
        <button
          (click)="zoomOut()"
          class="w-[52px] h-[55px] rounded-[5px] bg-white dark:bg-gray-600 
                 border dark:border-gray-500 shadow text-xl dark:text-textDark
                 hover:bg-gray-100 dark:hover:bg-gray-500"
        >
          −
        </button>
        <button
          (click)="zoomIn()"
          class="w-[52px] h-[55px] rounded-[5px] bg-white dark:bg-gray-600 
                 border dark:border-gray-500 shadow text-xl dark:text-textDark
                 hover:bg-gray-100 dark:hover:bg-gray-500"
        >
          +
        </button>
      </div>
    </div>

    <!-- Close Button -->
    <button
      (click)="closeImageModal()"
      class="absolute top-4 right-4 text-gray-400 dark:text-gray-300 
             hover:text-gray-700 dark:hover:text-white text-xl"
    >
      ✕
    </button>
  </div>
</div>

<!-- Pagination -->
<div class="flex justify-center items-center gap-4 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">
  <button
    (click)="onPreviousPage()"
    [disabled]="currentPage === 1"
    class="w-10 h-10 flex items-center justify-center rounded-md bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
  >
    <i class="fa-solid fa-chevron-left"></i>
  </button>
  
  <span class="text-sm font-medium text-gray-700 dark:text-textDark">
    Page [ {{ currentPage }} / {{ totalPages }} ]
  </span>
  
  <button
    (click)="onNextPage()"
    [disabled]="currentPage === totalPages"
    class="w-10 h-10 flex items-center justify-center rounded-md bg-blue-500 hover:bg-blue-600 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
  >
    <i class="fa-solid fa-chevron-right"></i>
  </button>
</div>