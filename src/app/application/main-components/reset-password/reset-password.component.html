<div
  class="flex flex-col md:flex-row justify-center md:justify-between items-center min-h-screen box-border relative bg-gray-50"
>
  <!-- Absolute Logo -->
  <img
    src="assets/images/logo.png"
    alt="Logo"
    class="absolute top-5 right-5 max-w-[120px] h-auto z-20"
  />

  <div class="flex flex-col md:flex-row mx-auto max-w-7xl w-full gap-10 flex-1">
    <!-- Left Illustration (Desktop Only) -->
    <div class="hidden md:flex w-1/2 h-screen items-center justify-center">
      <img
        src="assets/images/reset-password.png"
        alt="Reset Password Illustration"
        class="max-w-[500px] w-full h-auto object-contain"
      />
    </div>

    <!-- Right Section -->
    <div
      class="w-full md:w-1/2 flex flex-col justify-center items-center p-6 min-h-screen md:min-h-full"
    >
      <div class="bg-white rounded-lg shadow-lg w-full max-w-md p-8 relative">
        <!-- Title -->
        <h2 class="text-2xl md:text-3xl font-semibold text-center mb-6 mt-10">
          Reset Password
        </h2>
        <p class="text-gray-600 text-center text-sm md:text-base mb-6">
          Please create a secure password for yourself.
        </p>

        <!-- Form -->
        <form
          [formGroup]="resetForm"
          (ngSubmit)="onSubmit()"
          class="flex flex-col items-center"
        >
          <!-- New Password -->
          <div class="w-full relative mb-2">
            <input
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="New Password"
              class="w-full p-3 pr-10 border-b-2 border-gray-400 focus:outline-none focus:border-purple-600 text-gray-700"
            />
            <i
              [class]="
                showPassword ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'
              "
              class="absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500"
              (click)="togglePasswordVisibility()"
            ></i>
          </div>

          <div
            *ngIf="password?.invalid && (password?.dirty || password?.touched)"
            class="text-xs text-red-500 mb-3 w-full"
          >
            <p *ngIf="password?.errors?.['required']">Password is required.</p>
            <p *ngIf="password?.errors?.['minlength']">
              Password must be at least 8 characters.
            </p>
            <p *ngIf="password?.errors?.['pattern']">
              Password must contain uppercase, number and special character.
            </p>
          </div>

          <!-- Confirm Password -->
          <div class="w-full relative mb-2">
            <input
              [type]="showConfirmPassword ? 'text' : 'password'"
              formControlName="confirmPassword"
              placeholder="Re-Enter Password"
              class="w-full p-3 pr-10 border-b-2 border-gray-400 focus:outline-none focus:border-purple-600 text-gray-700"
            />
            <i
              [class]="
                showConfirmPassword
                  ? 'fa-solid fa-eye-slash'
                  : 'fa-solid fa-eye'
              "
              class="absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-gray-500"
              (click)="toggleConfirmPasswordVisibility()"
            ></i>
          </div>

          <div
            *ngIf="resetForm.errors?.['notMatching'] && (confirmPassword?.dirty || confirmPassword?.touched)"
            class="text-xs text-red-500 mb-3 w-full"
          >
            Passwords do not match.
          </div>

          <!-- Continue Button -->
          <button
            type="submit"
            [disabled]="resetForm.invalid"
            class="w-full mt-8 bg-black hover:bg-white text-white hover:text-black hover:border hover:border-black font-semibold py-3 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            Continue
          </button>
        </form>

        <!-- Countdown / Resend -->
        <div class="text-center text-sm text-gray-500 mt-10 mb-6">
          <ng-container *ngIf="!expired; else resend">
            Expires in
            <span class="font-semibold text-red-600">{{
              formatTime(countdown)
            }}</span>
          </ng-container>
          <ng-template #resend>
            <a
              (click)="resendLink()"
              class="text-purple-600 font-semibold cursor-pointer"
              >Resend</a
            >
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
