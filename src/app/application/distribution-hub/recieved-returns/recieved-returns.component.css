/* Make the calendar popup smaller */
::ng-deep .p-calendar .p-datepicker {
  transform: scale(0.85);
  transform-origin: top left;
  width: 280px !important;
  min-width: 280px !important;
}

::ng-deep .p-calendar .p-datepicker table td {
  padding: 0.1rem !important;
}

::ng-deep .p-calendar .p-datepicker table td > span {
  width: 1.8rem !important;
  height: 1.8rem !important;
  font-size: 0.8rem !important;
}

/* Reduce the size of selected date (blue highlight) */
::ng-deep .p-datepicker .p-datepicker-calendar td > span.p-highlight {
  width: 2rem !important;
  height: 2rem !important;
  font-size: 0.75rem !important;
  line-height: 2rem !important;
}

/* Reduce size of today's date marker */
::ng-deep .p-datepicker .p-datepicker-calendar td.p-datepicker-today > span {
  width: 2rem !important;
  height: 2rem !important;
  font-size: 0.75rem !important;
}

/* Reduce size when both today and selected */
::ng-deep
  .p-datepicker
  .p-datepicker-calendar
  td.p-datepicker-today
  > span.p-highlight {
  width: 2rem !important;
  height: 2rem !important;
}

::ng-deep .p-calendar .p-datepicker .p-datepicker-header {
  padding: 0.3rem !important;
  font-size: 0.9rem !important;
}

::ng-deep .p-calendar .p-datepicker .p-datepicker-title {
  font-size: 0.9rem !important;
}

::ng-deep .p-calendar .p-datepicker .p-datepicker-prev,
::ng-deep .p-calendar .p-datepicker .p-datepicker-next {
  width: 1.5rem !important;
  height: 1.5rem !important;
}

/* Calendar button color styles */
:host ::ng-deep .p-calendar .p-button {
  color: black;
}

:host-context(.dark) ::ng-deep .p-calendar .p-button {
  color: white;
}

/* Light mode placeholder */
:host ::ng-deep .p-calendar .p-inputtext::placeholder {
  color: #6c6c6c;
}

/* Dark mode placeholder */
:host-context(.dark) ::ng-deep .p-calendar .p-inputtext::placeholder {
  color: #8b8b8b;
}

/* Reduce calendar popup size */
:host ::ng-deep .p-datepicker {
  font-size: 0.75rem !important;
  padding: 0.25rem !important;
  min-width: 5rem !important;
}

/* Reduce padding and cell size inside popup */
:host ::ng-deep .p-datepicker td > span {
  padding: 0.25rem !important;
  width: 1.75rem !important;
  height: 1.75rem !important;
}

/* ===== COMPACT CALENDAR STYLES - FIXED ===== */
/* Compact calendar container positioning */
::ng-deep .calendar-compact {
  position: relative !important;
  width: 140px !important;
  max-width: 140px !important;
}

::ng-deep .calendar-compact .p-calendar {
  position: relative !important;
}

/* Compact calendar input */
::ng-deep .calendar-compact .p-inputtext {
  width: 140px !important;
  padding-right: 2.5rem !important;
}

/* Clear icon positioning - FIXED to be inside input */
::ng-deep .calendar-compact .p-calendar-clear-icon {
  position: absolute !important;
  right: 0.5rem !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  margin-top: 0 !important;
  z-index: 1 !important;
  cursor: pointer !important;
}

/* Dark mode clear icon color */
::ng-deep .dark-calendar .p-calendar-clear-icon {
  color: #9ca3af !important;
}

::ng-deep .dark-calendar .p-calendar-clear-icon:hover {
  color: #313030 !important;
}

/* Reduce panel size for compact calendar */
::ng-deep .calendar-compact .p-datepicker {
  transform: scale(0.85);
  transform-origin: top left;
}

/* ===== DROPDOWN STYLES ===== */
/* Hides clear icon when dropdown has no selected value */
::ng-deep .p-dropdown .p-dropdown-clear {
  display: none;
}

/* Show the clear button only when a value is selected */
::ng-deep .p-dropdown.ng-dirty.ng-valid .p-dropdown-clear {
  display: inline-flex !important;
}

/* Dark mode dropdown styles */
::ng-deep .dark .p-dropdown-panel {
  background-color: #2d354d !important;
  color: #b1b1b1 !important;
  border-radius: 6px !important;
  overflow: hidden;
}

::ng-deep .dark .p-dropdown-panel .p-dropdown-item {
  background-color: #2d354d !important;
  color: #b1b1b1 !important;
}

::ng-deep .dark .p-dropdown-panel .p-dropdown-item:hover {
  background-color: #3a4160 !important;
  color: #fff !important;
}

::ng-deep .dark .p-dropdown-panel .p-dropdown-item.p-highlight {
  background-color: #2d354d !important;
  color: #b1b1b1 !important;
}

/* Dark mode fix for dropdown filter search input */
::ng-deep .dark .p-dropdown-filter {
  border-color: #6b7280;
  background-color: #4b5563 !important;
  color: #f9fafb !important;
}

/* Dark mode for filter input placeholder */
::ng-deep .dark .p-dropdown-filter::placeholder {
  color: #9ca3af !important;
}

/* Dark mode for filter container */
::ng-deep .dark .p-dropdown-filter-container {
  background-color: #374151 !important;
  border-bottom-color: #6b7280 !important;
}

/* Dark mode for filter icon */
::ng-deep .dark .p-dropdown-filter-icon {
  color: #9ca3af !important;
}

/* Ensure the input text is visible in dark mode */
::ng-deep .dark .p-dropdown-filter:focus {
  background-color: #4b5563 !important;
  color: #f9fafb !important;
  border-color: #6b7280 !important;
  outline: none;
}

::ng-deep .dark .p-dropdown-header {
  background-color: #4b5563;
}
